<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Quiz App</title>
<style>
  *{box-sizing:border-box;margin:0;padding:0;font-family:sans-serif}
  body{background:#007bff;color:#fff;display:flex;flex-direction:column;align-items:center;padding:20px}
  h1{font-size:clamp(22px,6vw,36px);margin-bottom:20px}

  button{cursor:pointer;border:none;border-radius:6px;padding:10px 18px;font-size:clamp(14px,4vw,18px)}
  .primary{background:#fff;color:#007bff}
  .secondary{background:#007bff;color:#fff;border:1px solid #fff}

  .box{
    position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);
    background:#fff;color:#111;width:min(95vw,500px);border-radius:8px;
    padding:16px;box-shadow:0 4px 16px rgba(0,0,0,.3);
    display:none;flex-direction:column;gap:14px
  }
  .box.show{display:flex}

  .options{display:flex;flex-direction:column;gap:10px}
  .option{background:#f0f8ff;padding:10px;border:1px solid #84c5fe;border-radius:6px}
  .option.correct{background:#d4edda;border-color:#c3e6cb}
  .option.incorrect{background:#f8d7da;border-color:#f5c6cb}
  .option.disabled{pointer-events:none;opacity:.8}

  .footer{display:flex;justify-content:space-between;align-items:center;margin-top:10px}
  .next{background:#007bff;color:#fff;display:none}

  .timerbar{height:6px;background:#ddd;border-radius:3px;overflow:hidden}
  .timerline{height:100%;background:#007bff;width:0%}
</style>
</head>
<body>

<h1>Simple Quiz</h1>
<button id="startBtn" class="primary">Start Quiz</button>

<!-- Info -->
<div id="infoBox" class="box">
  <strong>Rules:</strong>
  <div>1. 15 seconds per question.</div>
  <div>2. Once you pick, itâ€™s final.</div>
  <div>3. No exit during quiz.</div>
  <div>4. Points only for correct answers.</div>
  <div style="display:flex;justify-content:flex-end;gap:10px">
    <button id="exitBtn" class="secondary">Exit</button>
    <button id="continueBtn" class="primary">Continue</button>
  </div>
</div>

<!-- Quiz -->
<div id="quizBox" class="box">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <div id="timerTxt">Time: <span id="timeCount">15</span></div>
    <div class="timerbar"><div id="timeLine" class="timerline"></div></div>
  </div>
  <div id="questionText"></div>
  <div id="options" class="options"></div>
  <div class="footer">
    <div id="qCounter"></div>
    <button id="nextBtn" class="next">Next</button>
  </div>
</div>

<!-- Result -->
<div id="resultBox" class="box">
  <div id="scoreText"></div>
  <div style="display:flex;justify-content:center;gap:10px">
    <button id="replayBtn" class="primary">Replay</button>
    <button id="quitBtn" class="secondary">Quit</button>
  </div>
</div>

<script>
const questions=[
 {q:"What does HTML stand for?",a:"Hyper Text Markup Language",o:["Hyper Text Preprocessor","Hyper Text Markup Language","Hyper Text Multiple Language","Hyper Tool Multi Language"]},
 {q:"What does CSS stand for?",a:"Cascading Style Sheet",o:["Common Style Sheet","Colorful Style Sheet","Computer Style Sheet","Cascading Style Sheet"]},
 {q:"What does JS stand for?",a:"JavaScript",o:["JavaSuper","JavaScript","JustScript","JollySuper"]},
];

let qIndex=0,score=0,timer,timerLine,sec=15;

const startBtn=document.getElementById("startBtn"),
      infoBox=document.getElementById("infoBox"),
      exitBtn=document.getElementById("exitBtn"),
      continueBtn=document.getElementById("continueBtn"),
      quizBox=document.getElementById("quizBox"),
      questionText=document.getElementById("questionText"),
      options=document.getElementById("options"),
      timeCount=document.getElementById("timeCount"),
      timeLine=document.getElementById("timeLine"),
      qCounter=document.getElementById("qCounter"),
      nextBtn=document.getElementById("nextBtn"),
      resultBox=document.getElementById("resultBox"),
      scoreText=document.getElementById("scoreText"),
      replayBtn=document.getElementById("replayBtn"),
      quitBtn=document.getElementById("quitBtn");

startBtn.onclick=()=>infoBox.classList.add("show");
exitBtn.onclick=()=>location.reload();
continueBtn.onclick=()=>{infoBox.classList.remove("show");quizBox.classList.add("show");startQuiz();};
replayBtn.onclick=()=>{resultBox.classList.remove("show");startQuiz();};
quitBtn.onclick=()=>location.reload();

function startQuiz(){qIndex=0;score=0;showQ();}
function showQ(){
  clearInterval(timer);cancelAnimationFrame(timerLine);
  sec=15;timeCount.textContent=sec;timeLine.style.width="0%";
  questionText.textContent=questions[qIndex].q;
  options.innerHTML="";questions[qIndex].o.forEach(opt=>{
    let div=document.createElement("div");div.textContent=opt;div.className="option";
    div.onclick=()=>selectOpt(div,opt);options.append(div);
  });
  qCounter.textContent=`${qIndex+1}/${questions.length}`;
  nextBtn.style.display="none";
  startTimer();startLine();
}
function selectOpt(el,opt){
  stopTimers();
  let correct=questions[qIndex].a;
  if(opt===correct){el.classList.add("correct");score++;}
  else{el.classList.add("incorrect");[...options.children].find(o=>o.textContent===correct).classList.add("correct");}
  [...options.children].forEach(o=>o.classList.add("disabled"));
  nextBtn.style.display="inline-block";
}
nextBtn.onclick=()=>{if(qIndex<questions.length-1){qIndex++;showQ();}else showResult();};

function startTimer(){timer=setInterval(()=>{sec--;timeCount.textContent=sec;if(sec<0){clearInterval(timer);timeUp();}},1000);}
function startLine(){let start=performance.now();function anim(now){let pct=(now-start)/(15000)*100;timeLine.style.width=Math.min(pct,100)+"%";if(pct<100)timerLine=requestAnimationFrame(anim);}timerLine=requestAnimationFrame(anim);}
function stopTimers(){clearInterval(timer);cancelAnimationFrame(timerLine);}
function timeUp(){selectOpt(document.createElement("div"),"");}

function showResult(){
  quizBox.classList.remove("show");resultBox.classList.add("show");
  scoreText.textContent=`You got ${score} out of ${questions.length}`;
}
</script>
</body>
</html>
